(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[181],{1391:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Components/Auth",function(){return e(4609)}])},3916:function(n,t,e){"use strict";e.d(t,{Ap:function(){return p},I8:function(){return _},db:function(){return c},tO:function(){return s}});var r=e(5503),o=e(7702),i=e(6257),a=e(1153),u=(0,r.ZF)({apiKey:"AIzaSyApB5RnE1ZVuqn4aSaBzBJqcKMazgu7Fak",authDomain:"xktransfer-30d93.firebaseapp.com",projectId:"xktransfer-30d93",storageBucket:"xktransfer-30d93.appspot.com",messagingSenderId:"446072266748",appId:"1:446072266748:web:02199dec16fee9a67f9c79"}),s=(0,a.cF)(u),c=(0,i.ad)(u),_=(0,o.v0)(u),p=new o.hJ},4609:function(n,t,e){"use strict";e.r(t);var r=e(7568),o=e(4924),i=e(828),a=e(4051),u=e.n(a),s=e(5893),c=e(7294),_=e(7702),p=e(3916),d=e(6257),f=e(3349),m=e(214),l=e.n(m);t.default=function(){var n=(0,i.Z)((0,f.F_)(p.I8),3),t=n[0],e=(n[1],n[2],(0,c.useState)()),a=(e[0],e[1]),m=function(){var n=(0,r.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,_.rh)(p.I8,p.Ap).then((function(n){a(n.user),x(n.user)})).catch((function(n){console.error("there was an error signing in",n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),h=function(){var n=(0,r.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,_.w7)(p.I8,p.Ap).then((function(){a(null)})).catch((function(n){console.error("there was an error signing out",n)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),v=function(){var n=(0,r.Z)(u().mark((function n(t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="clientID"+t.uid,n.prev=1,n.next=4,(0,d.pl)((0,d.JU)(p.db,e,"settings"),{uid:t.uid,displayName:t.displayName,email:t.email,photoUrl:t.photoURL,uidWithoutNumberAtTheStart:e,creationTime:t.metadata.creationTime});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.error("Error adding document: ",n.t0);case 9:return n.prev=9,n.next=12,(0,d.r7)((0,d.JU)(p.db,"admin","clientList"),(0,o.Z)({},e,{uid:t.uid,displayName:t.displayName,email:t.email,photoURL:t.photoURL,uidWithoutNumberAtTheStart:e}));case 12:n.next=17;break;case 14:n.prev=14,n.t1=n.catch(9),console.log("Error updating admin's list of users",n.t1);case 17:case"end":return n.stop()}}),n,null,[[1,6],[9,14]])})));return function(t){return n.apply(this,arguments)}}(),x=function(){var n=(0,r.Z)(u().mark((function n(t){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,d.JU)(p.db,"".concat(t.uid),"settings"),n.next=3,(0,d.QT)(e);case 3:n.sent.exists()||v(t);case 5:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,s.jsx)("div",{children:t?(0,s.jsx)("button",{className:l().indexButtons,onClick:h,children:" Sign Out"}):(0,s.jsx)("button",{className:l().indexButtons,onClick:m,children:" Sign In"})})}},214:function(n){n.exports={container:"Home_container__bCOhY",list:"Home_list__qBUOI",clientContainer:"Home_clientContainer__zaBFF",clientSongList:"Home_clientSongList__G0hZK",userIcon:"Home_userIcon__gSg8v",nav:"Home_nav__vYbrQ",footer:"Home_footer____T7K",uploadButton:"Home_uploadButton__Dy1yQ",songListItem:"Home_songListItem__ViKIf",songListItemListItem:"Home_songListItemListItem__AQJ6b",audio:"Home_audio__yfbiH",revisionTextArea:"Home_revisionTextArea__Flcmw",indexButtonsContainer:"Home_indexButtonsContainer__ZNNAE",indexButtons:"Home_indexButtons__0WvI0"}}},function(n){n.O(0,[16,440,641,933,774,888,179],(function(){return t=1391,n(n.s=t);var t}));var t=n.O();_N_E=t}]);